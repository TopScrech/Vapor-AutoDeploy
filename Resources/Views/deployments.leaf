<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Deployments - Admin Panel</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 min-h-screen p-8">
    <div class="max-w-6xl mx-auto">
        <div class="flex justify-between items-center mb-6">
            <h1 class="text-3xl font-bold text-gray-900">ðŸš€ Deployment History</h1>
        </div>

        <div class="bg-white rounded-xl shadow-lg overflow-hidden">
            <table class="min-w-full divide-y divide-gray-200">
                <thead class="bg-gray-50">
                    <tr>
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ID</th>
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Started At</th>
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Duration</th>
                    </tr>
                </thead>
                <tbody class="bg-white divide-y divide-gray-200">
                    #for(task in tasks):
                    <tr class="hover:bg-gray-50 transition-colors">
                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                            <a href="/admin/deployments/#(task.id)" class="text-blue-600 hover:text-blue-800 hover:underline">
                                #(task.id ?? "N/A")
                            </a>
                        </td>
                        <td class="px-6 py-4 whitespace-nowrap">
                            <span class="px-2.5 py-1.5 rounded-full text-xs font-medium 
                                #if(task.status == 'success'):
                                    bg-green-100 text-green-800
                                #elseif(task.status == 'failed'):
                                    bg-red-100 text-red-800
                                #else:
                                    bg-blue-100 text-blue-800
                                #endif">
                                #(task.status.uppercased())
                            </span>
                        </td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">
                            #date(task.startedAt, "yyyy-MM-dd HH:mm:ss")
                        </td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">
                            #if(task.durationString):
                                #(task.durationString)
                            #else:
                                <span class="text-gray-400 italic">Ongoing</span>
                            #endif
                        </td>
                    </tr>
                    #endfor
                </tbody>
            </table>
        </div>
    </div>
</body>
</html>
